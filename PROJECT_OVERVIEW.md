# プロジェクト概要

> 🤖 **AI Generated Project**: このプロジェクト全体（コード、ドキュメント、テスト）は、Claude Opus 4.6（Anthropic社のAI）によって生成されました。

## 🎯 プロジェクト名
**医療機関向け総合健康リスクスコアシステム**

NHANES 2017-2018データを活用した、エビデンスベースの包括的健康リスク評価プラットフォーム

**⚠️ これは教育・デモンストレーション目的のAI生成サンプルコードです。実際の医療現場での使用は禁止されています。**

## 📋 プロジェクト情報

| 項目 | 内容 |
|------|------|
| バージョン | 1.0.0 |
| 開発方法 | **AI生成（Claude Opus 4.6）** |
| 開発期間 | 2026年2月7日（数時間） |
| データソース | NHANES 2017-2018 (n=9,254) |
| プログラミング言語 | Python 3.8+ |
| ライセンス | MIT（教育・研究目的） |
| 用途 | **教育・デモのみ（医療使用禁止）** |

## 🌟 主要機能

### 1. 総合健康リスクスコア（0-100点）
5つの医学的ドメインを統合した包括的健康評価スコア

### 2. ドメイン別評価
| ドメイン | 重み | 主要マーカー | 準拠ガイドライン |
|---------|------|------------|----------------|
| 心血管系 | 30% | LDL, HDL, TC, TG | ACC/AHA 2019 |
| 代謝系 | 25% | 血糖, HbA1c, HOMA-IR | ADA 2023 |
| 腎機能 | 20% | eGFR, ACR | KDIGO 2012 |
| 肝機能 | 15% | AST, ALT, FIB-4 | AASLD 2018 |
| 血液系 | 10% | Hgb, WBC, Platelet | WHO |

### 3. リスクレベル分類
- **最適（0-20点）**: 優良な健康状態
- **低リスク（20-40点）**: 軽度の改善余地
- **中リスク（40-60点）**: 生活習慣改善が必要
- **高リスク（60-80点）**: 専門医紹介を検討
- **要精査（80-100点）**: 即時の医学的介入が必要

### 4. 自動警告生成
各ドメインでリスクが高い場合、以下を自動生成:
- 異常マーカーの特定
- 臨床的重要度の評価
- 推奨される検査・治療
- 専門医紹介の必要性判定

### 5. 修正可能因子の特定
生活習慣改善で対応可能なリスク因子を自動識別:
- LDLコレステロール（食事・スタチン）
- 血糖値（食事・運動・薬物）
- 中性脂肪（食事・運動）
- HDLコレステロール（運動・禁煙）
- 肝機能（減量・節酒）

## 🏗️ システムアーキテクチャ

```
┌─────────────────────────────────────────────────────────┐
│                   入力: 患者データ                        │
│              (血液検査、人口統計情報)                      │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│              データ前処理モジュール                        │
│   ・欠損値処理  ・外れ値除去  ・派生変数生成              │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│              5つのドメイン評価エンジン                     │
├─────────────────────────────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐  ┌──────────┐             │
│  │心血管リスク│  │代謝リスク │  │腎機能リスク│             │
│  │  (30%)   │  │  (25%)   │  │  (20%)   │             │
│  └──────────┘  └──────────┘  └──────────┘             │
│  ┌──────────┐  ┌──────────┐                            │
│  │肝機能リスク│  │血液リスク │                            │
│  │  (15%)   │  │  (10%)   │                            │
│  └──────────┘  └──────────┘                            │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│              総合リスク統合エンジン                        │
│   ・重み付け統合  ・年齢補正  ・複数ドメインペナルティ     │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│              出力: 総合評価レポート                        │
│   ・総合スコア  ・リスクレベル  ・警告  ・推奨事項          │
└─────────────────────────────────────────────────────────┘
```

## 📊 実装統計

### コードメトリクス
- **総ファイル数**: 25ファイル
- **Pythonモジュール**: 12ファイル
- **総コード行数**: 約3,000行
- **テストケース数**: 18ケース
- **カバレッジ**: 全モデル

### モジュール別行数
| モジュール | 行数 |
|-----------|------|
| データ処理 | 約500行 |
| リスクモデル | 約1,500行 |
| テスト | 約400行 |
| ノートブック | 約600行 |

## 🔬 科学的根拠

### 準拠ガイドライン
1. **ACC/AHA 2019 Guideline on the Primary Prevention of Cardiovascular Disease**
   - LDL目標値、リスク層別化

2. **American Diabetes Association Standards of Care 2023**
   - 血糖・HbA1c診断基準

3. **KDIGO 2012 Clinical Practice Guideline for CKD**
   - eGFR・ACRによるCKD分類

4. **AASLD 2018 Practice Guidance on NAFLD**
   - FIB-4 Indexによる肝線維化評価

5. **WHO Hemoglobin Thresholds**
   - 貧血の診断基準

### 検証済み指標
- ✅ eGFR（CKD-EPI式）
- ✅ HOMA-IR（インスリン抵抗性）
- ✅ FIB-4 Index（肝線維化）
- ✅ TC/HDL比（心血管リスク）
- ✅ ACR（腎疾患マーカー）

## 💡 使用例

### 例1: 正常健康者（35歳男性）
```
入力:
- LDL: 95 mg/dL（最適）
- HDL: 55 mg/dL（正常）
- 血糖: 90 mg/dL（正常）
- eGFR: 105 mL/min/1.73m²（正常）

出力:
- 総合スコア: 15.2点
- リスクレベル: 最適（OPTIMAL）
- 推奨: 現在の健康状態を維持、年1回の定期健診
```

### 例2: 高リスク患者（68歳女性）
```
入力:
- LDL: 210 mg/dL（最高値）
- HDL: 38 mg/dL（低値）
- 血糖: 140 mg/dL（糖尿病域）
- HbA1c: 7.2%（糖尿病域）
- eGFR: 35 mL/min/1.73m²（G3b）

出力:
- 総合スコア: 82.5点
- リスクレベル: 要精査（CRITICAL）
- 警告: 3件（心血管系、代謝系、腎機能）
- 推奨:
  - 循環器専門医への即時紹介
  - 糖尿病診断のための精密検査
  - 腎臓専門医への紹介
  - CKD合併症スクリーニング
```

## 🎓 教育的価値

### 学習できる内容
1. **医学統計**: 臨床閾値、リスクスコアリング
2. **データサイエンス**: 前処理、特徴量エンジニアリング
3. **ソフトウェア工学**: モジュール設計、テスト駆動開発
4. **Python**: pandas, numpy, matplotlib, pytest
5. **ヘルスケアAI**: 医療データ分析の実践

### 適用可能な分野
- 医学教育（臨床推論）
- データサイエンス教育
- ヘルスケアスタートアップ
- 予防医学研究
- 健診センターのリスク層別化

## 🚀 今後の発展可能性

### Phase 2（拡張計画）
1. **機械学習モデル**
   - ランダムフォレスト、XGBoost
   - 疾患予測モデル（5年・10年リスク）

2. **可視化機能**
   - インタラクティブダッシュボード（Plotly Dash）
   - 経時的変化グラフ

3. **レポート生成**
   - PDF自動生成（患者向け・医師向け）
   - 多言語対応

4. **Web API**
   - RESTful API（FastAPI）
   - 電子カルテシステム連携

5. **データベース統合**
   - PostgreSQL/MongoDB
   - 患者履歴管理

## ⚠️ 重要な注意事項

### 医学的制限
- ❌ **診断ツールではない**: あくまでスクリーニング目的
- ❌ **治療指針ではない**: 最終判断は医師が行う
- ❌ **因果関係の証明不可**: 相関関係のみ評価
- ⚠️ **人種差**: 米国集団データ（日本人への適用要注意）

### 技術的制限
- 横断研究データ（経時変化評価不可）
- 一部変数の欠損率が高い
- 単位の混在（SI単位/US慣用単位）

### 倫理的配慮
- 個人情報保護（SEQN匿名化）
- アルゴリズムの透明性確保
- バイアスの認識（性別・年齢層別化は医学的根拠に基づく）

## 📚 関連リソース

### ドキュメント
- `README.md` - 完全な使用方法
- `QUICKSTART.md` - 5分で始めるガイド
- `IMPLEMENTATION_SUMMARY.md` - 実装詳細
- `PROJECT_OVERVIEW.md` - 本ドキュメント

### コード
- `example_usage.py` - 使用例スクリプト
- `tests/test_risk_models.py` - テストコード
- `notebooks/` - Jupyter解析例

### 設定
- `config/clinical_thresholds.yaml` - 臨床閾値
- `requirements.txt` - 依存ライブラリ

## 🤝 貢献

本プロジェクトは以下の方法で改善できます:

1. **医学的検証**: 追加の臨床研究データでの検証
2. **コード改善**: リファクタリング、最適化
3. **機能追加**: 新しいリスクドメイン、可視化
4. **ドキュメント**: 翻訳、チュートリアル
5. **テスト**: 追加のエッジケース

## 📞 サポート

問題や質問がある場合:
1. `README.md` のトラブルシューティングを確認
2. `QUICKSTART.md` で基本操作を確認
3. GitHubでIssueを作成

---

**免責事項**: 本システムは教育・研究目的で開発されました。
臨床現場での使用前に、必ず医学的妥当性の検証と規制当局の承認を得てください。
